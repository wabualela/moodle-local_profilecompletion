{"version":3,"file":"prompt.min.js","sources":["../src/prompt.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Modal launcher for local_profilecompletion.\n *\n * @module     local_profilecompletion/prompt\n * @copyright  2026 Moddaker\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport ModalForm from 'core_form/modalform';\n\n/**\n * Initialise profile completion prompt button.\n *\n * @param {Object} config\n */\nexport const init = (config) => {\n    if (!config || !config.buttonid) {\n        return;\n    }\n\n    const button = document.getElementById(config.buttonid);\n    if (!button || button.dataset.bound === '1') {\n        return;\n    }\n\n    button.dataset.bound = '1';\n\n    button.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        const modalForm = new ModalForm({\n            modalConfig: {\n                title: config.modaltitle,\n                large: true,\n            },\n            formClass: config.formclass,\n            saveButtonText: config.savebuttontext,\n            returnFocus: button,\n        });\n\n        modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, () => {\n            window.location.reload();\n        });\n\n        modalForm.show();\n    });\n};\n"],"names":["init","config","buttonid","button","document","getElementById","dataset","bound","addEventListener","e","preventDefault","modalForm","ModalForm","modalConfig","title","modaltitle","large","formClass","formclass","saveButtonText","savebuttontext","returnFocus","events","FORM_SUBMITTED","window","location","reload","show"],"mappings":"AAAA,6LAAkD,WAAU,oBAAoB,SAAQO,WAAY,sBAA3D,MAAMC,KAAOC,QACf,IAAKA,SAAWA,OAAOC,SAAU,OAGjC,MAAMC,OAASC,SAASC,eAAeJ,OAAOC,UAC9CC,SAAWA,OAAOI,QAAQC,OAAS,IAChC,OAGAJ,OAAOI,QAAQC,MAAQ,IAEvBL,OAAOM,iBAAiB,QAAS,SAACC,GAC9BA,EAAEC,iBAEF,MAAMC,UAAY,IAAIC,mBAAU,CAC5BC,YAAa,CACRC,MAAOX,OAAOY,UACdC,OAAO,IAETC,UAAWf,OAAOgB,UACpBC,eAAgBjB,OAAOkB,eACvBC,YAAatB,QAGfM,UAAUN,iBAAiBM,UAAUQ,OAAOC,gBAAiB,WACxDC,OAAOC,SAASC,UAGlBX,UAAUY"}
